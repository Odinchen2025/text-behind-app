<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ–‡å­—ç©¿é€ç‰¹æ•ˆ App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { touch-action: none; background-color: #1a202c; color: white; overflow: hidden; }
        #canvas-container { position: relative; width: 100vw; height: 70vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        canvas { max-width: 100%; max-height: 100%; touch-action: none; }
        .upload-btn { background: #4a5568; border: 2px dashed #718096; border-radius: 12px; padding: 40px; text-align: center; cursor: pointer; }
    </style>
</head>
<body class="flex flex-col h-screen">

    <header class="p-4 flex justify-between items-center bg-gray-900 shadow-md">
        <h1 class="text-lg font-bold">LAYER MASK EDITOR</h1>
        <button id="export-btn" class="bg-green-600 px-4 py-1 rounded text-white font-medium">å°å‡º</button>
    </header>

    <main id="canvas-container" class="flex-grow">
        <div id="upload-placeholder" class="upload-btn">
            <p>ğŸ“¸ é»æ“Šä¸Šå‚³ç…§ç‰‡</p>
            <input type="file" id="file-input" class="hidden" accept="image/*">
        </div>
        <canvas id="main-canvas" class="hidden"></canvas>
    </main>

    <footer class="p-4 bg-gray-800 space-y-4 shadow-inner">
        <div class="flex gap-2">
            <input type="text" id="text-input" placeholder="è¼¸å…¥æ–‡å­—..." class="flex-grow bg-gray-700 p-2 rounded border border-gray-600 text-white">
            <input type="color" id="color-picker" value="#ffffff" class="w-12 h-10 rounded">
        </div>

        <div class="flex gap-2">
            <button id="mode-move" class="flex-1 bg-blue-600 py-3 rounded-lg font-bold">ç§»å‹• / ç¸®æ”¾</button>
            <button id="mode-erase" class="flex-1 bg-gray-700 py-3 rounded-lg font-bold text-gray-300">å¡—æŠ¹æ¶ˆé™¤ (é®ç½©)</button>
        </div>
    </footer>

    <script>
        // é€™è£¡æœƒæ”¾ç½® AI å»èƒŒèˆ‡ Canvas è™•ç†é‚è¼¯
        const fileInput = document.getElementById('file-input');
        const uploadPlaceholder = document.getElementById('upload-placeholder');
        const canvas = document.getElementById('main-canvas');
        const ctx = canvas.getContext('2d');

        // è§¸ç™¼ä¸Šå‚³
        uploadPlaceholder.onclick = () => fileInput.click();

        fileInput.onchange = (e) => {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = (event) => {
                const img = new Image();
                img.onload = () => {
                    uploadPlaceholder.classList.add('hidden');
                    canvas.classList.remove('hidden');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    // é€™è£¡å¾ŒçºŒæœƒåŠ å…¥è‡ªå‹•å»èƒŒé‚è¼¯
                    alert('åœ–ç‰‡å·²è®€å–ï¼è«‹é–‹å§‹è¼¸å…¥æ–‡å­—ã€‚');
                };
                img.src = event.target.result;
            };
            reader.readAsDataURL(file);
        };
    </script>
</body>
</html>
